<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>HTML5 APP - Detect screen size</title>
    <meta name='mobile-web-app-capable' content='yes'>
    <meta name='apple-mobile-web-app-capable' content='yes'>
    <meta name='viewport' content='minimal-ui, user-scalable=no, width=device-width' />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <style>
        .status {
            font: bold 1em sans-serif;
            color: #FFF;
            padding:30px
        }

        /* portrait-specific styles */
        @media screen and (orientation:portrait) {
            .status {
                background: blue;
            }
        }

        /* landscape-specific styles */
        @media screen and (orientation:landscape) {
            .status {
                background: green;
            }
        }
    </style>
</head>

<body>
    <p class='status'>Orientation: <span id='js'></span></p>

    <script type="text/javascript">
        (function() {
            // Find matches
            var mql = window.matchMedia('(orientation: portrait)');

            // Event handler
            var onChange = function(m) {
                if (m.matches) {
                    // Changed to portrait
                    document.getElementById('js').innerHTML = 'Portrait!';
                } else {
                    // Changed to landscape
                    document.getElementById('js').innerHTML = 'Landscape!';
                }
            };

            // Add the event handler to the mql-obj
            mql.addListener(onChange);

            // Calls the eventhandler for initial check
            onChange(mql);

            // Add a listener for resize changes
            window.addEventListener("resize", function() {
                // Checks if the innerwidth is larger than inner height
                // if it is its landscape else portrait
                if (window.innerWidth > window.innerHeight) {
                    console.log('Landscape');
                } else {
                    console.log('Portrait');
                }
            }, false);
        })();
    </script>
</body>
</html>
